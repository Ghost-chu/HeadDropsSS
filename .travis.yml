language: java
jdk:
- openjdk8
install: false
script:
- git clone https://$Github_token@github.com/Ghost-chu/HeadDropsSS.git
- cd HeadDropsSS
- mvn clean
- mvn -T 4 install
after_success:
- rm -rf push
- mkdir push
- cp ./target/*.jar ./push/
- git clone https://$Github_token@github.com/Ghost-chu/BinaryRepository.git
- mkdir -p ./BinaryRepository/HeadDropsSS/$TRAVIS_BUILD_NUMBER
- mkdir -p ./BinaryRepository/HeadDropsSS/$TRAVIS_BUILD_NUMBER/target
- cp ./target/* ./BinaryRepository/HeadDropsSS/$TRAVIS_BUILD_NUMBER/target
- echo -e "== Built by Travis-CI ==\nBuild Number [$TRAVIS_BUILD_NUMBER]\nBuild Type
  [$TRAVIS_EVENT_TYPE]\nTag [$TRAVIS_TAG]\nCommit [$TRAVIS_COMMIT] - [$TRAVIS_COMMIT_MESSAGE]"
  > ./BinaryRepository/HeadDropsSS/$TRAVIS_BUILD_NUMBER/BUILDINFO
- cd BinaryRepository
- git add .
- git commit -m "Auto update by Bot"
- git push --force
- cd ..
- echo "done"
deploy:
  skip_cleanup: true
  provider: releases
  api_key:
    secure: cMwED+rBh7db0dVMNmQ3mp6gcEHeoVrU2bjsLoAVizFjJmnsKOrExzDVXUqlSEuks15YrrH+9wniyOE27zfSmUGKF2XSCL8Zo0olHK+E9BZU+VhcgTejQgduS3aRuO2q7aLNzZqrCaw0BswWCdMvdudmlBnHM8jsRM24QYFowHQEFkoq1+KecreAhR9F+XlKBo3diZPjqkiohlwcyt9UBPBjo8+sgUbVXaaEhjbPVVsue9a5TT98e/2UwBLso2APjuqFoKXIWC6rYNW91OOBGltxMxhQa4ev3xqbvE3ou+GqfWH1JTIueiDrOR4t6MwMlFwt/W+NfqekXkRc8vqYmRGadK7JcKcZfbJBsjF0QTxXGU/IaZgFi00Vz63xeLNvyYrIEjCp0zCq0Ai0aUFfHjqguJvyiBaPWTi1hoGCd76Wa7RF65ZuZyTrXIguFQHdV2ATIPluUy3Sz2sXRbyLmwq6b7QEOR7TSeGjQsqzla/eTeUCcx48fgJQ3KsXgSe9B2rqB3ryL8uzm1qxdUrpN800ydJzOEBl7h10FQ5eMmVzeWbS+mT9QReU3B/ZXIeC8Av6WBcZ5cMt2iomQ0V0EuXZETd6EtifMv+DVuswxVfk0EgzXGSEA7HStqbxYwdGFAoRuvpdGP7sdaeyiwXD+sQ91L/wjlEGF2JMeVHCjLw=
  file:
    - ./push/*
  file_glob: true
  on:
    repo: Ghost-chu/HeadDropsSS
    tags: true
  overwrite: true